{"version":1,"ops":[{"type":1,"author":{"id":"15be4af55ad83e3dbe17b7c1fb3a4889aa5fa3cd"},"timestamp":1576453310,"metadata":{"github-id":"MDU6SXNzdWU1MzgxMjQzNjU=","github-url":"https://github.com/fraction/oasis/issues/26","origin":"github"},"title":"Profile page crash: \"Param 0 must have a .id of type \"feedId\"","message":"**What version of this package are you using?**\n2.9.4\n\n**What operating system, Node.js, and npm version?**\nOS X 10.11.6\nnode v10.8.0\nnpm 6.3.0\n\n**What happened?**\nThe Profile page shows an error message instead of any content.\n\nThis doesn't happen on my `/author/xxxxxx` page, only on `/profile`\n\nThis is the error when Oasis is using Patchwork's ssb-server:\n```\nError: non-error thrown: {\"message\":\"Param 0 must have a .id of type \\\"feedId\\\"\",\"name\":\"UsageError\",\"stack\":\"UsageError: Param 0 must have a .id of type \\\"feedId\\\"\\n    at new ZE (/Applications/Patchwork-3.17.1.app/Contents/Resources/app.asar/node_modules/zerr/index.js:11:42)\\n    at ZError (/Applications/Patchwork-3.17.1.app/Contents/Resources/app.asar/node_modules/zerr/index.js:13:14)\\n    at Object.createUserStreamOpts (/Applications/Patchwork-3.17.1.app/Contents/Resources/app.asar/node_modules/ssb-db/lib/validators.js:146:14)\\n    at validate (/Applications/Patchwork-3.17.1.app/Contents/Resources/app.asar/node_modules/muxrpc-validation/index.js:153:15)\\n    at Object.\u003canonymous\u003e (/Applications/Patchwork-3.17.1.app/Contents/Resources/app.asar/node_modules/muxrpc-validation/index.js:95:17)\\n    at Object.hooked (/Applications/Patchwork-3.17.1.app/Contents/Resources/app.asar/node_modules/hoox/index.js:10:15)\\n    at Object.localCall (/Applications/Patchwork-3.17.1.app/Contents/Resources/app.asar/node_modules/muxrpc/local-api.js:31:29)\\n    at Object.\u003canonymous\u003e (/Applications/Patchwork-3.17.1.app/Contents/Resources/app.asar/node_modules/muxrpc/local-api.js:37:22)\\n    at PacketStreamSubstream.stream.read (/Applications/Patchwork-3.17.1.app/Contents/Resources/app.asar/node_modules/muxrpc/stream.js:69:23)\\n    at PacketStream._onstream (/Applications/Patchwork-3.17.1.app/Contents/Resources/app.asar/node_modules/packet-stream/index.js:228:11)\"}\n    at Object.onerror (/Users/xxx/projects/ssb/oasis/node_modules/koa/lib/context.js:113:40)\n    at onerror (/Users/xxx/projects/ssb/oasis/node_modules/koa/lib/application.js:148:32)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\n```\n\nAnd when Oasis is running its own ssb-server:\n```\nError: non-error thrown: {\"message\":\"Param 0 must have a .id of type \\\"feedId\\\"\",\"name\":\"UsageError\",\"stack\":\"UsageError: Param 0 must have a .id of type \\\"feedId\\\"\\n    at new ZE (/Users/xxx/projects/ssb/oasis/node_modules/zerr/index.js:11:42)\\n    at ZError (/Users/xxx/projects/ssb/oasis/node_modules/zerr/index.js:13:14)\\n    at Object.createUserStreamOpts (/Users/xxx/projects/ssb/oasis/node_modules/ssb-db/lib/validators.js:146:14)\\n    at validate (/Users/xxx/projects/ssb/oasis/node_modules/muxrpc-validation/index.js:153:15)\\n    at Object.\u003canonymous\u003e (/Users/xxx/projects/ssb/oasis/node_modules/muxrpc-validation/index.js:95:17)\\n    at Object.hooked (/Users/xxx/projects/ssb/oasis/node_modules/hoox/index.js:10:15)\\n    at Object.localCall (/Users/xxx/projects/ssb/oasis/node_modules/secret-stack/node_modules/muxrpc/local-api.js:31:29)\\n    at Object.\u003canonymous\u003e (/Users/xxx/projects/ssb/oasis/node_modules/secret-stack/node_modules/muxrpc/local-api.js:37:22)\\n    at PacketStreamSubstream.stream.read (/Users/xxx/projects/ssb/oasis/node_modules/secret-stack/node_modules/muxrpc/stream.js:69:23)\\n    at PacketStream._onstream (/Users/xxx/projects/ssb/oasis/node_modules/packet-stream/index.js:228:11)\"}\n    at Object.onerror (/Users/xxx/projects/ssb/oasis/node_modules/koa/lib/context.js:113:40)\n    at onerror (/Users/xxx/projects/ssb/oasis/node_modules/koa/lib/application.js:148:32)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\n```\n\n**Are you willing to submit a pull request to fix this bug?**\nNo, I don't know how to fix it.","files":null}]}